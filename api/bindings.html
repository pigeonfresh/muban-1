<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bindings | Muban</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Writing components for server-rendered HTML">
    
    <link rel="preload" href="/muban/assets/css/0.styles.fc90fd1a.css" as="style"><link rel="preload" href="/muban/assets/js/app.48237296.js" as="script"><link rel="preload" href="/muban/assets/js/2.de8cd9c4.js" as="script"><link rel="preload" href="/muban/assets/js/9.2865af3c.js" as="script"><link rel="prefetch" href="/muban/assets/js/10.7c55db09.js"><link rel="prefetch" href="/muban/assets/js/11.a9e9df60.js"><link rel="prefetch" href="/muban/assets/js/12.e7cc04fe.js"><link rel="prefetch" href="/muban/assets/js/13.cc337c60.js"><link rel="prefetch" href="/muban/assets/js/14.c7055ebb.js"><link rel="prefetch" href="/muban/assets/js/15.1fbfe614.js"><link rel="prefetch" href="/muban/assets/js/16.7f688880.js"><link rel="prefetch" href="/muban/assets/js/17.65a01f70.js"><link rel="prefetch" href="/muban/assets/js/18.e17083c9.js"><link rel="prefetch" href="/muban/assets/js/19.9532445d.js"><link rel="prefetch" href="/muban/assets/js/20.2e603409.js"><link rel="prefetch" href="/muban/assets/js/21.ddf04c2e.js"><link rel="prefetch" href="/muban/assets/js/22.60d5b2a5.js"><link rel="prefetch" href="/muban/assets/js/23.d8a186b2.js"><link rel="prefetch" href="/muban/assets/js/24.eabdf387.js"><link rel="prefetch" href="/muban/assets/js/25.33fc5c13.js"><link rel="prefetch" href="/muban/assets/js/26.e94df976.js"><link rel="prefetch" href="/muban/assets/js/27.b0ab94dc.js"><link rel="prefetch" href="/muban/assets/js/3.4c8c1865.js"><link rel="prefetch" href="/muban/assets/js/4.af860640.js"><link rel="prefetch" href="/muban/assets/js/5.ac9e9e87.js"><link rel="prefetch" href="/muban/assets/js/6.dc00f921.js"><link rel="prefetch" href="/muban/assets/js/7.b073ec24.js"><link rel="prefetch" href="/muban/assets/js/8.44fb1b58.js">
    <link rel="stylesheet" href="/muban/assets/css/0.styles.fc90fd1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/muban/" class="home-link router-link-active"><!----> <span class="site-name">Muban</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/muban/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/muban/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/muban/api/" class="nav-link router-link-active">
  Api
</a></div><div class="nav-item"><a href="/muban/research/" class="nav-link">
  Research
</a></div> <a href="https://github.com/mubanjs/muban" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/muban/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/muban/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/muban/api/" class="nav-link router-link-active">
  Api
</a></div><div class="nav-item"><a href="/muban/research/" class="nav-link">
  Research
</a></div> <a href="https://github.com/mubanjs/muban" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/muban/api/" aria-current="page" class="sidebar-link">Api</a></li><li><a href="/muban/api/component.html" class="sidebar-link">Component</a></li><li><a href="/muban/api/props.html" class="sidebar-link">Props</a></li><li><a href="/muban/api/refs.html" class="sidebar-link">Refs</a></li><li><a href="/muban/api/bindings.html" aria-current="page" class="active sidebar-link">Bindings</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#binding-factories" class="sidebar-link">Binding Factories</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#bind" class="sidebar-link">bind</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#bindmap" class="sidebar-link">bindMap</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#bindtemplate" class="sidebar-link">bindTemplate</a></li></ul></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#dom-bindings" class="sidebar-link">DOM bindings</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#text" class="sidebar-link">text</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#html" class="sidebar-link">html</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#css" class="sidebar-link">css</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#style" class="sidebar-link">style</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#attr" class="sidebar-link">attr</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#click" class="sidebar-link">click</a></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#checked" class="sidebar-link">checked</a></li></ul></li><li class="sidebar-sub-header"><a href="/muban/api/bindings.html#component-bindings" class="sidebar-link">Component bindings</a></li></ul></li><li><a href="/muban/api/hooks.html" class="sidebar-link">Hooks</a></li><li><a href="/muban/api/provide-inject.html" class="sidebar-link">Provide / Inject</a></li><li><a href="/muban/api/mhtml.html" class="sidebar-link">mhtml templates</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bindings"><a href="#bindings" class="header-anchor">#</a> Bindings</h1> <h2 id="binding-factories"><a href="#binding-factories" class="header-anchor">#</a> Binding Factories</h2> <p>Binding factories are helper functions to create the binding definitions that must be returned
from the component's <code>setup</code> function. These definitions are later used to apply these bindings
when the component is mounted, or when any of the reactive data changes.</p> <p>While it is technically possible to manually create those binding definitions yourself, these
binding factories make sure the correct information is passed, and is fully typed based on the ref
you provide as the first parameter.</p> <h3 id="bind"><a href="#bind" class="header-anchor">#</a> bind</h3> <p><code>bind</code> lets you update any selected ref (element or component, single or collection) to any data,
making sure it updates automatically whenever the data changes.</p> <p>If you bind to a collection, each item in the collection will receive the same bindings.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> AnyRef<span class="token punctuation">,</span>
  props<span class="token operator">:</span> BindProps <span class="token operator">|</span> ComponentSetPropsParam<span class="token operator">&lt;</span>ComponentApi<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Binding<span class="token punctuation">;</span>
</code></pre></div><p>If you want more control over the bindings for each individual item in a collection, you can use
the <a href="#bindmap"><code>bindMap</code></a> function.</p> <p>Bindings to elements use <a href="#dom-bindings">DOM bindings</a>. Bindings to components use the
<a href="#component-bindings">Component bindings</a> to update its props.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Make sure your bindings stay reactive by passing a reactive <code>ref</code>, or by wrapping
it in a <code>computed</code> when accessing the direct values or any <code>reactive</code> object.</p></div> <p><strong>Example</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>

  <span class="token comment">// bind to a DOM element</span>
  <span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>button<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'clicked'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isLoading<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'loading...'</span> <span class="token operator">:</span> <span class="token string">'submit'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// bind to a component, setting props or passing callbacks</span>
  <span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>filter<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// selectedIndex is the name of the component prop, but also a reactive `ref`</span>
    selectedIndex<span class="token punctuation">,</span>
    <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setNewValue</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span>
</code></pre></div><h3 id="bindmap"><a href="#bindmap" class="header-anchor">#</a> bindMap</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">bindMap</span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> CollectionRef <span class="token operator">|</span> ComponentsRef<span class="token punctuation">,</span>
  <span class="token function-variable function">getProps</span><span class="token operator">:</span> <span class="token punctuation">(</span>ref<span class="token operator">:</span> ElementRef <span class="token operator">|</span> ComponentRef<span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    BindProps <span class="token operator">|</span> ComponentSetPropsParam<span class="token operator">&lt;</span>ComponentApi<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Binding<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Example</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>

  <span class="token comment">// bind to multiple dom elements</span>
  <span class="token operator">...</span><span class="token function">bindMap</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// use the `index` in each individual binding</span>
    css<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> active<span class="token operator">:</span> index <span class="token operator">===</span> selectedIndex<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>selectedIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// bind to multiple components, setting props or passing callbacks</span>
  <span class="token operator">...</span><span class="token function">bindMap</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>isExpanded<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      activeIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> isExpanded <span class="token operator">?</span> index <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token comment">// you could use `ref.component?.props` to access the individual component's props</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    expanded<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> activeIndex<span class="token punctuation">.</span>value <span class="token operator">===</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span>
</code></pre></div><h3 id="bindtemplate"><a href="#bindtemplate" class="header-anchor">#</a> bindTemplate</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">bindTemplate</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span>
  data<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">template</span><span class="token operator">:</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TemplateResult <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TemplateResult<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  extract<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    config<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    <span class="token function-variable function">onData</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Binding<span class="token punctuation">;</span>
</code></pre></div><p><strong>Example</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
  
  <span class="token comment">// set up a template binding</span>
  <span class="token function">bindTemplate</span><span class="token punctuation">(</span>
    <span class="token comment">// control the contents of this container, clearing it on each re-render</span>
    refs<span class="token punctuation">.</span>productsContainer<span class="token punctuation">,</span>
    <span class="token comment">// this is the data being passed, keeping track of when it changes</span>
    <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> products<span class="token operator">:</span> filteredProducts<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// render this template each time, passing the received data</span>
    productList<span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// optionally extract any exiting data from the HTML that was rendered on the server</span>
      extract<span class="token operator">:</span> <span class="token punctuation">{</span> config<span class="token operator">:</span> extractConfig<span class="token punctuation">,</span> <span class="token function-variable function">onData</span><span class="token operator">:</span> <span class="token punctuation">(</span>products<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> productData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>products<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// configure if you want to update the UI based on client side template immediately,</span>
      <span class="token comment">// or only when the data changes afterwards</span>
      renderImmediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// default = false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">html-extract-data</p> <p>The data extraction makes use of the <a href="https://www.npmjs.com/package/html-extract-data" target="_blank" rel="noopener noreferrer">html-extract-data<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
npm module, check their documentation to all the possibilities and configuration.</p></div> <h2 id="dom-bindings"><a href="#dom-bindings" class="header-anchor">#</a> DOM bindings</h2> <h3 id="text"><a href="#text" class="header-anchor">#</a> text</h3> <p>The <code>text</code> binding sets the <code>textContent</code> property of the associated DOM element.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre></div><p><strong>Examples</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Doe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pass a ref</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> firstName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pas a computed (which is a ref)</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> fullName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or inline</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="html"><a href="#html" class="header-anchor">#</a> html</h3> <p>The <code>html</code> binding sets the <code>innerHTML</code> property of the associated DOM element.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre></div><p><strong>Examples</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'&lt;strong&gt;John&lt;/strong&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'&lt;em&gt;Doe&lt;/em&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pass a ref</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span> <span class="token punctuation">{</span> html<span class="token operator">:</span> firstName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pas a computed (which is a ref)</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> html<span class="token operator">:</span> fullName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or inline</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> html<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="css"><a href="#css" class="header-anchor">#</a> css</h3> <p>The <code>css</code> binding adds or removes one or more CSS classes to the associated DOM element.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">|</span> Ref<span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span> <span class="token operator">|</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span>
</code></pre></div><p><strong>Examples</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> ballance <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isPositive <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ballance<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isNegative <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ballance<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets either the `is-negative` or `is-positive` css class based on the ballance</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> css<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ballance<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">'is-negative'</span> <span class="token operator">:</span> <span class="token string">'is-positive'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets the classes if the respective value is truthy</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> css<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">'is-positive'</span><span class="token operator">:</span> isPositive<span class="token punctuation">,</span>
  <span class="token string">'is-negative'</span><span class="token operator">:</span> isNegative<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets multiple classes at the same time when `isActive` ref value is truthy</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> css<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'foo bar'</span><span class="token operator">:</span> isActive <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="style"><a href="#style" class="header-anchor">#</a> style</h3> <p>The <code>style</code> binding sets the style properties of the associated DOM element, similarly to inline
styles.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>Ref<span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span> <span class="token operator">|</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span>
</code></pre></div><p><strong>Examples</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> isActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets the `display` style on either `block` or `none`</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> style<span class="token operator">:</span> <span class="token punctuation">{</span>
  display<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isActive<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'block'</span> <span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="attr"><a href="#attr" class="header-anchor">#</a> attr</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>Ref<span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;&gt;</span> <span class="token operator">|</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Ref<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;&gt;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">TODO</p> <p>Not implemented yet</p></div> <h3 id="click"><a href="#click" class="header-anchor">#</a> click</h3> <p>The <code>click</code> binding calls the passed callback whenever the user clicks on the associated DOM element.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token punctuation">(</span>event<span class="token operator">:</span> HTMLElementEventMap<span class="token punctuation">[</span><span class="token string">'click'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Examples</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// executes the callback whenever clicked</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// if your function expects the `event` as the first parameter, or has no parameters, you can</span>
<span class="token comment">// just pass it directly</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> click<span class="token operator">:</span> toggleActive <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="checked"><a href="#checked" class="header-anchor">#</a> checked</h3> <p>The <code>checked</code> binding is a two-way binding, connecting the state with the associated checkbox
or radio button DOM element.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;&gt;</span>
</code></pre></div><p>If passed a single <code>boolean</code> value, it will sync the passed <code>ref</code> and the <code>checked</code> state of the
element, updating one if the other changes.</p> <p>If passed an <code>Array</code>, it will add or remove the item in that array that corresponds with the <code>value</code>
attribute of the DOM element. If the checkbox is checked, it will add the item with that value,
and when unchecked, it will remove it from the array again. Or when the array updates, it will
check or uncheck the DOM element depending on the presence in the array.</p> <p><strong>Examples</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code>
<span class="token keyword">const</span> isSelected <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> selectedItems <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// binds the `isSelected` with the `accept` checkbox, and updates the other if one of them changes</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>accept<span class="token punctuation">,</span> <span class="token punctuation">{</span> checked<span class="token operator">:</span> isSelected <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// initially selects the checkbox that has `foo` as value, and will update the array whenever</span>
<span class="token comment">// toggling any of the checkboxes in the collection. Or updating the checkboxes if the array changes.</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>checkboxes<span class="token punctuation">,</span> <span class="token punctuation">{</span> checked<span class="token operator">:</span> selectedItems <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="component-bindings"><a href="#component-bindings" class="header-anchor">#</a> Component bindings</h2> <p>Component bindings will set the props of the targeted component(s) whenever the related state
changes. The allowed props are typed based on the component attached to the passed ref.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>ComponentSetPropsParam<span class="token operator">&lt;</span>ComponentApi<span class="token operator">&gt;</span>
</code></pre></div><p>This is useful for two main use cases:</p> <ol><li>Update child component props whenever state in the parent changes. This will let the parent
component control the child component.</li> <li>Passing callback functions to listen to changes in the child component. These mostly apply to
any user interaction that can happen in child component that deals with the intricate logic there,
and updates the parent component with just the information it needs when it's needed.</li></ol> <p><strong>Example</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// the `filter` component has an `onChange` prop that gets executed when a filter changes</span>
<span class="token comment">// passing the filter id and filter value</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>filter<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>filter<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeFilter <span class="token operator">=</span> activeFilters<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span>id <span class="token operator">===</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>activeFilter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      activeFilter<span class="token punctuation">.</span>active <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// the `items` components have an `onChange` prop that gets called when any of the items change,</span>
<span class="token comment">// and an `expanded` prop to dictate of the slide should be expanded</span>
<span class="token comment">// they use the `index` prameter in the &quot;loop&quot; to use in each prop binding</span>
<span class="token operator">...</span><span class="token function">bindMap</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>isExpanded<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    activeIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> isExpanded <span class="token operator">?</span> index <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  expanded<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> activeIndex<span class="token punctuation">.</span>value <span class="token operator">===</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Callback bindings</p> <p>Callback bindings are usually <strong>not reactive</strong>, since you only have to specify them once, and child
components can just call them whenever needed.</p></div> <div class="custom-block tip"><p class="custom-block-title">Reactive prop bindings</p> <p>Other prop bindings should be <strong>reactive</strong>, since you want to update these props whenever something
changes in your parent component. In turn, the child component can use <code>watch</code> or <code>watchEffect</code> to
listen to changes on any of these props, and in turn update their internal state or bindings.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/muban/api/refs.html" class="prev">
        Refs
      </a></span> <span class="next"><a href="/muban/api/hooks.html">
        Hooks
      </a>
      
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/muban/assets/js/app.48237296.js" defer></script><script src="/muban/assets/js/2.de8cd9c4.js" defer></script><script src="/muban/assets/js/9.2865af3c.js" defer></script>
  </body>
</html>
